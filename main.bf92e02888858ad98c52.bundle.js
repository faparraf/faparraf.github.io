webpackJsonp([0],{"+Evg":function(e,t){e.exports='<div class="form-group">\n    <div>\n        Authentication code has been sent to: {{destination}}\n    </div>\n    <div class="form-group">\n        <input id="mfaCode" required type="text" maxlength="10" class="form-control"\n               length="40" #code>\n    </div>\n    <button (click)="onSubmit(code.value)" type="submit" class="btn btn-info btn-block">\n        Submit code\n    </button>\n</div>\n\n'},"/ZX1":function(e,t){e.exports='<div id="wrapper">\n\n    \x3c!-- Navigation --\x3e\n    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">\n        <div class="navbar-header">\n            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">\n                <span class="sr-only">Toggle navigation</span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n            </button>\n            <a class="navbar-brand" href="index.html">Cognito Startup</a>\n        </div>\n        \x3c!-- /.navbar-header --\x3e\n\n        <ul class="nav navbar-top-links navbar-right">\n\n            \x3c!-- /.dropdown --\x3e\n            <li class="dropdown">\n                <a class="dropdown-toggle" data-toggle="dropdown" href="#">\n                    <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>\n                </a>\n                <ul class="dropdown-menu dropdown-user">\n                    <li><a [routerLink]="[\'/securehome/myprofile\']"><i class="fa fa-user fa-fw"></i> User\n                        Profile</a>\n                    </li>\n                    <li class="divider"></li>\n                    <li><a [routerLink]="[\'/securehome/logout\']">Logout</a>\n                    </li>\n                </ul>\n                \x3c!-- /.dropdown-user --\x3e\n            </li>\n            \x3c!-- /.dropdown --\x3e\n        </ul>\n        \x3c!-- /.navbar-top-links --\x3e\n\n        <div class="navbar-default sidebar" role="navigation">\n            <div class="sidebar-nav navbar-collapse">\n                <ul class="nav" id="side-menu">\n                    <li>\n                        <a [routerLink]="[\'/securehome/myprofile\']"><i class="fa fa-dashboard fa-fw"></i> My Profile</a>\n                    </li>\n                    <li>\n                        <a [routerLink]="[\'/securehome/jwttokens\']"><i class="fa fa-table fa-fw"></i> JWT Tokens</a>\n                    </li>\n                    <li>\n                        <a [routerLink]="[\'/securehome/useractivity\']"><i class="fa fa-table fa-fw"></i> Login Data</a>\n                    </li>\n                </ul>\n            </div>\n            \x3c!-- /.sidebar-collapse --\x3e\n        </div>\n        \x3c!-- /.navbar-static-side --\x3e\n    </nav>\n\n    \x3c!-- Page Content --\x3e\n    <div id="page-wrapper">\n        <div class="container-fluid">\n            <div class="row">\n                <div class="col-lg-12">\n\n                    <router-outlet></router-outlet>\n                </div>\n                \x3c!-- /.col-lg-12 --\x3e\n            </div>\n            \x3c!-- /.row --\x3e\n        </div>\n        \x3c!-- /.container-fluid --\x3e\n    </div>\n    \x3c!-- /#page-wrapper --\x3e\n\n</div>\n\x3c!-- /#wrapper --\x3e\n'},0:function(e,t){},"0qZY":function(e,t){e.exports='<h1 class="page-header">My Login Activity</h1>\n\n<div class="table-responsive">\n    <table class="table table-hover table-striped">\n        <tr>\n            <th>Action</th>\n            <th>Date</th>\n        </tr>\n        <tr *ngFor="let item of logdata" class="active">\n            <td>{{ item.type }}</td>\n            <td>{{ item.date }}</td>\n        </tr>\n    </table>\n</div>\n'},1:function(e,t,n){e.exports=n("cDNt")},"2vi/":function(e,t){e.exports='\x3c!-- Navigation --\x3e\n<nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">\n    <div class="container topnav">\n        \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n        <div class="navbar-header">\n            <button type="button" class="navbar-toggle" data-toggle="collapse"\n                    data-target="#bs-example-navbar-collapse-1">\n                <span class="sr-only">Toggle navigation</span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n            </button>\n            <a class="navbar-brand topnav" href="#">Cognito QuickStart</a>\n        </div>\n        \x3c!-- Collect the nav links, forms, and other content for toggling --\x3e\n        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n            <ul class="nav navbar-nav navbar-right">\n                <li>\n                    <a [routerLink]="[\'/home\']">Home</a>\n                </li>\n                <li>\n                    <a [routerLink]="[\'/home/login\']">Login</a>\n                </li>\n            </ul>\n        </div>\n        \x3c!-- /.navbar-collapse --\x3e\n    </div>\n    \x3c!-- /.container --\x3e\n</nav>\n<div class="intro-header">\n    <router-outlet></router-outlet>\n</div>\n\n'},"32Dm":function(e,t){e.exports='<form class="form-signin" method="POST" action="#" role="form">\n    <div class="form-group">\n        <h2>Create account</h2>\n    </div>\n    <div *ngIf="errorMessage!=null" class="alert alert-danger">\n        {{ errorMessage }}\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="signupName">Name</label>\n        <input id="signupName" type="text" maxlength="50" class="form-control"\n               [(ngModel)]="registrationUser.name" [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="signupEmail">Email</label>\n        <input id="signupEmail" type="email" maxlength="50" class="form-control"\n               [(ngModel)]="registrationUser.email" [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="signupPhone">Phone number</label>\n        <input id="signupPhone" type="text" maxlength="13" class="form-control"\n               [(ngModel)]="registrationUser.phone_number" [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="signupPassword">Password</label>\n        <input id="signupPassword" type="password" maxlength="25" class="form-control"\n               placeholder="at least 8 characters" length="40" [(ngModel)]="registrationUser.password"\n               [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <button (click)="onRegister()" id="signupSubmit" type="submit" class="btn btn-info btn-block">\n            Create your account\n        </button>\n    </div>\n    <hr>\n    <p>Already have an account? <a [routerLink]="[\'/home/login\']"> <i class="fa fa-fw fa-lock"></i>Login</a></p>\n</form>\n\n'},FDm5:function(e,t){e.exports='<form class="form-signin" method="POST" action="#" role="form">\n    <div class="form-group">\n        <h2>Confirm Registration</h2>\n    </div>\n    <div *ngIf="errorMessage!=null" class="alert alert-danger">\n        {{ errorMessage }}\n    </div>\n    <div class="form-group" *ngIf="email===null">\n        <label class="control-label" for="confirmationCode">Email</label>\n        <input id="email" type="email" maxlength="50" class="form-control"\n               [(ngModel)]="email" [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="confirmationCode">Confirmation Code</label>\n        <input id="confirmationCode" type="text" maxlength="50" class="form-control"\n               [(ngModel)]="confirmationCode" [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <button (click)="onConfirmRegistration()" id="confirmRegistration" type="submit"\n                class="btn btn-info btn-block">Confirm\n        </button>\n    </div>\n    <hr>\n    <p>Can\'t find your code? <a [routerLink]="[\'/home/resendCode\']"> <i class="fa fa-fw fa-group"></i> Resend\n        Code</a>\n        <a [routerLink]="[\'/home/register\']"> <i class="fa fa-fw fa-group"></i> Register</a> <a\n                [routerLink]="[\'/home/login\']"> <i class="fa fa-fw fa-user"></i> Login</a>\n    </p>\n</form>\n'},Mzqj:function(e,t){e.exports='<form class="form-signin" method="POST" action="#" role="form">\n    <div class="form-group">\n        <h2>Resend Code</h2>\n    </div>\n    <div *ngIf="errorMessage!=null" class="alert alert-danger">\n        {{ errorMessage }}\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="signupEmail">Email</label>\n        <input id="signupEmail" type="email" maxlength="50" class="form-control" [(ngModel)]="email"\n               [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <button (click)="resendCode()" id="signupSubmit" type="submit" class="btn btn-info btn-block">\n            Resend Code\n        </button>\n    </div>\n\n    <hr>\n    <p><a [routerLink]="[\'/home/register\']"> <i class="fa fa-fw fa-group"></i> Register</a> <a\n            [routerLink]="[\'/home/login\']"> <i class="fa fa-fw fa-user"></i> Login</a>\n    </p>\n</form>\n'},NV2D:function(e,t){e.exports='<form class="form-signin" method="POST" action="#" role="form">\n    <div class="form-group">\n        <h2>Login</h2>\n    </div>\n    <div *ngIf="errorMessage!=null" class="alert alert-danger">\n        {{ errorMessage }}\n    </div>\n    <div *ngIf="!mfaStep">\n        <div class="form-group">\n            <label class="control-label" for="signupEmail">Email</label>\n            <input id="signupEmail" required type="email" maxlength="100" class="form-control" [(ngModel)]="email"\n                   [ngModelOptions]="{standalone: true}">\n        </div>\n\n        <div class="form-group">\n            <label class="control-label" for="signupPassword">Password</label>\n            <input id="signupPassword" required type="password" maxlength="25" class="form-control"\n                   length="40" [(ngModel)]="password" [ngModelOptions]="{standalone: true}">\n        </div>\n        <div class="form-group">\n            <button (click)="onLogin()" id="signupSubmit" type="submit" class="btn btn-info btn-block">\n                Login\n            </button>\n        </div>\n\n        <hr>\n        <p>\n            <a [routerLink]="[\'/home/register\']"> <i class="fa fa-fw fa-group"></i> Register</a>\n            <a [routerLink]="[\'/home/forgotPassword\']"> <i class="fa fa-fw fa-group"></i> Forgot Password?</a><br/>\n            <a [routerLink]="[\'/home/resendCode\']"> <i class="fa fa-fw fa-group"></i> Resend Confirmation Code</a>\n        </p>\n\n    </div>\n\n    <div class="form-group" *ngIf="mfaStep">\n        <awscognito-mfa [destination]="mfaData.destination"\n                        [onSubmit]="mfaData.callback"></awscognito-mfa>\n        <hr>\n        <a (click)="cancelMFA()" href="">Cancel</a>\n    </div>\n</form>\n\n'},Ng2n:function(e,t){e.exports='<h1 class="page-header">JWT Tokens</h1>\n<ul class="nav nav-tabs">\n    <li class="active"><a data-toggle="tab" href="#accesstoken">Access Token</a></li>\n    <li><a data-toggle="tab" href="#idtoken">Id Token</a></li>\n</ul>\n\n<div class="tab-content">\n    <div id="accesstoken" class="tab-pane fade in active">\n        <h3>Access Token</h3>\n        <p>{{ stuff.accessToken }}</p>\n    </div>\n    <div id="idtoken" class="tab-pane fade">\n        <h3>Id Token</h3>\n        <p>{{ stuff.idToken }}</p>\n    </div>\n</div>\n'},Sxvq:function(e,t){e.exports="<router-outlet></router-outlet>\n"},VeaH:function(e,t){e.exports='\x3c!-- Header --\x3e\n<a name="about"></a>\n<div class="intro-header">\n    <div class="container">\n\n        <div class="row">\n            <div class="col-lg-12">\n                <div class="intro-message">\n                    <h1>Cognito QuickStart App</h1>\n                    <h3>Source code can be found <a href="https://github.com/awslabs/aws-cognito-angular2-quickstart">here</a>\n                    </h3>\n                    <hr class="intro-divider">\n                    <ul class="list-inline intro-social-buttons">\n                        <li>\n                            <a\n                                    [routerLink]="[\'/home/login\']" class="btn btn-default btn-lg"> <i\n                                    class="fa fa-lock fa-fw"></i> <span class="network-name">Cognito</span> Login</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n\n    </div>\n    \x3c!-- /.container --\x3e\n\n</div>\n\x3c!-- /.intro-header --\x3e\n'},YuZA:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="YuZA"},a5uK:function(e,t){e.exports='<form class="form-signin" method="POST" action="#" role="form">\n    <div class="form-group">\n        <h2>Forgot Password</h2>\n    </div>\n    <div *ngIf="errorMessage!=null" class="alert alert-danger">\n        {{ errorMessage }}\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="verificationCode">Verification Code</label>\n        <input id="verificationCode" type="verificationCode" maxlength="50" class="form-control"\n               [(ngModel)]="verificationCode" [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="newPassword">New Password</label>\n        <input id="newPassword" type="password" maxlength="25" class="form-control"\n               length="40" [(ngModel)]="password" [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <button (click)="onNext()" id="signupSubmit" type="submit" class="btn btn-info btn-block">\n            Reset Password\n        </button>\n    </div>\n\n    <hr>\n    <p><a [routerLink]="[\'/home/resendCode\']"> <i class="fa fa-fw fa-group"></i> Go back</a>\n    </p>\n</form>\n'},bGe8:function(e,t){e.exports='<form class="form-signin" method="POST" action="#" role="form">\n    <div class="form-group">\n        <h2>Forgot Password</h2>\n    </div>\n    <div *ngIf="errorMessage!=null" class="alert alert-danger">\n        {{ errorMessage }}\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="signupEmail">Email</label>\n        <input id="signupEmail" type="email" maxlength="50" class="form-control" [(ngModel)]="email"\n               [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <button (click)="onNext()" id="nextPage" type="submit" class="btn btn-info btn-block">Next\n        </button>\n    </div>\n\n    <hr>\n    <p><a [routerLink]="[\'/home/register\']"> <i class="fa fa-fw fa-group"></i> Register</a> <a\n            [routerLink]="[\'/home/login\']"> <i class="fa fa-fw fa-user"></i> Login</a>\n    </p>\n</form>\n'},cDNt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("GWWY"),n("f/CF"),n("KvE9"),n("zbpw"),n("NzKl"),n("ajBu"),n("feEK"),n("r24B"),n("pEMT"),n("jOBH"),n("Rjcp"),n("W8w6"),n("yJzT"),n("/wY1"),n("+iEx"),n("eFQL");var o=n("x8Hs"),i=n("LMZF"),r={production:!0,region:"us-east-1",identityPoolId:"us-east-1:fbe0340f-9ffc-4449-a935-bb6a6661fd53",userPoolId:"us-east-1_PGSbCVZ7S",clientId:"hh5ibv67so0qukt55c5ulaltk",rekognitionBucket:"rekognition-pics",albumName:"usercontent",bucketRegion:"us-east-1",ddbTableName:"LoginTrail",cognito_idp_endpoint:"",cognito_identity_endpoint:"",sts_endpoint:"",dynamodb_endpoint:"",s3_endpoint:""},a=n("DJpR"),s=n("j2Tg"),l=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},c=function(){function e(){}return t=e,e.prototype.getUserPool=function(){return r.cognito_idp_endpoint&&(t._POOL_DATA.endpoint=r.cognito_idp_endpoint),new a.d(t._POOL_DATA)},e.prototype.getCurrentUser=function(){return this.getUserPool().getCurrentUser()},e.prototype.setCognitoCreds=function(e){this.cognitoCreds=e},e.prototype.getCognitoCreds=function(){return this.cognitoCreds},e.prototype.buildCognitoCreds=function(e){var n="cognito-idp."+t._REGION.toLowerCase()+".amazonaws.com/"+t._USER_POOL_ID;r.cognito_idp_endpoint&&(n=r.cognito_idp_endpoint+"/"+t._USER_POOL_ID);var o={};o[n]=e;var i={IdentityPoolId:t._IDENTITY_POOL_ID,Logins:o},a={};r.cognito_identity_endpoint&&(a.endpoint=r.cognito_identity_endpoint);var l=new s.CognitoIdentityCredentials(i,a);return this.setCognitoCreds(l),l},e.prototype.getCognitoIdentity=function(){return this.cognitoCreds.identityId},e.prototype.getAccessToken=function(e){if(null==e)throw"CognitoUtil: callback in getAccessToken is null...returning";null!=this.getCurrentUser()?this.getCurrentUser().getSession(function(t,n){t?(console.log("CognitoUtil: Can't set the credentials:"+t),e.callbackWithParam(null)):n.isValid()&&e.callbackWithParam(n.getAccessToken().getJwtToken())}):e.callbackWithParam(null)},e.prototype.getIdToken=function(e){if(null==e)throw"CognitoUtil: callback in getIdToken is null...returning";null!=this.getCurrentUser()?this.getCurrentUser().getSession(function(t,n){t?(console.log("CognitoUtil: Can't set the credentials:"+t),e.callbackWithParam(null)):n.isValid()?e.callbackWithParam(n.getIdToken().getJwtToken()):console.log("CognitoUtil: Got the id token, but the session isn't valid")}):e.callbackWithParam(null)},e.prototype.getRefreshToken=function(e){if(null==e)throw"CognitoUtil: callback in getRefreshToken is null...returning";null!=this.getCurrentUser()?this.getCurrentUser().getSession(function(t,n){t?(console.log("CognitoUtil: Can't set the credentials:"+t),e.callbackWithParam(null)):n.isValid()&&e.callbackWithParam(n.getRefreshToken())}):e.callbackWithParam(null)},e.prototype.refresh=function(){this.getCurrentUser().getSession(function(e,t){e?console.log("CognitoUtil: Can't set the credentials:"+e):t.isValid()?console.log("CognitoUtil: refreshed successfully"):console.log("CognitoUtil: refreshed but session is still not valid")})},e._REGION=r.region,e._IDENTITY_POOL_ID=r.identityPoolId,e._USER_POOL_ID=r.userPoolId,e._CLIENT_ID=r.clientId,e._POOL_DATA={UserPoolId:t._USER_POOL_ID,ClientId:t._CLIENT_ID},e=t=l([Object(i.A)()],e);var t}(),u=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e){this.cognitoUtil=e,s.config.region=c._REGION}return t=e,e.prototype.initAwsService=function(e,n,o){if(t.runningInit)return console.log("AwsUtil: Aborting running initAwsService()...it's running already."),void(null!=e&&(e.callback(),e.callbackWithParam(null)));console.log("AwsUtil: Running initAwsService()"),t.runningInit=!0;n&&this.setupAWS(n,e,o)},e.prototype.setupAWS=function(e,n,o){if(console.log("AwsUtil: in setupAWS()"),e){console.log("AwsUtil: User is logged in");this.addCognitoCredentials(o),console.log("AwsUtil: Retrieving the id token")}else console.log("AwsUtil: User is not logged in");null!=n&&(n.callback(),n.callbackWithParam(null)),t.runningInit=!1},e.prototype.addCognitoCredentials=function(e){var n=this.cognitoUtil.buildCognitoCreds(e);s.config.credentials=n,n.get(function(e){e||t.firstLogin&&(this.ddb.writeLogEntry("login"),t.firstLogin=!1)})},e.getCognitoParametersForIdConsolidation=function(e){console.log("AwsUtil: enter getCognitoParametersForIdConsolidation()");var t=[];return t["cognito-idp."+c._REGION.toLowerCase()+".amazonaws.com/"+c._USER_POOL_ID]=e,{IdentityPoolId:c._IDENTITY_POOL_ID,Logins:t}},e.firstLogin=!1,e.runningInit=!1,e=t=u([Object(i.A)(),f("design:paramtypes",[c])],e);var t}(),d=n("BYrh"),p=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function e(e){this.cognitoUtil=e,console.log("DynamoDBService: constructor")}return e.prototype.getAWS=function(){return s},e.prototype.getLogEntries=function(e){console.log("DynamoDBService: reading from DDB with creds - "+s.config.credentials);var t={TableName:r.ddbTableName,KeyConditionExpression:"userId = :userId",ExpressionAttributeValues:{":userId":this.cognitoUtil.getCognitoIdentity()}},n={};r.dynamodb_endpoint&&(n.endpoint=r.dynamodb_endpoint),new d.DocumentClient(n).query(t,function(t,n){t?console.error("DynamoDBService: Unable to query the table. Error JSON:",JSON.stringify(t,null,2)):(console.log("DynamoDBService: Query succeeded."),n.Items.forEach(function(t){e.push({type:t.type,date:t.activityDate})}))})},e.prototype.writeLogEntry=function(e){try{var t=(new Date).toString();console.log("DynamoDBService: Writing log entry. Type:"+e+" ID: "+this.cognitoUtil.getCognitoIdentity()+" Date: "+t),this.write(this.cognitoUtil.getCognitoIdentity(),t,e)}catch(e){console.log("DynamoDBService: Couldn't write to DDB")}},e.prototype.write=function(e,t,n){console.log("DynamoDBService: writing "+n+" entry");var o={params:{TableName:r.ddbTableName}};r.dynamodb_endpoint&&(o.endpoint=r.dynamodb_endpoint);var i=new d(o),a={TableName:r.ddbTableName,Item:{userId:{S:e},activityDate:{S:t},type:{S:n}}};i.putItem(a,function(e){console.log("DynamoDBService: wrote entry: "+JSON.stringify(e))})},e=p([Object(i.A)(),h("design:paramtypes",[c])],e)}(),b=n("0ySQ"),v=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},w=function(){function e(e,t){var n=this;this.ddb=e,this.cognitoUtil=t,this.onLoginSuccess=function(e,t){console.log("In authenticateUser onSuccess callback"),s.config.credentials=n.cognitoUtil.buildCognitoCreds(t.getIdToken().getJwtToken());var o={};r.sts_endpoint&&(o.endpoint=r.sts_endpoint),new b(o).getCallerIdentity(function(n,o){console.log("UserLoginService: Successfully set the AWS credentials"),e.cognitoCallback(null,t)})},this.onLoginError=function(e,t){e.cognitoCallback(t.message,null)}}return e.prototype.authenticate=function(e,t,n){var o=this;console.log("UserLoginService: starting the authentication");var i={Username:e,Password:t},r=new a.a(i),l={Username:e,Pool:this.cognitoUtil.getUserPool()};console.log("UserLoginService: Params set...Authenticating the user");var c=new a.b(l);console.log("UserLoginService: config is "+s.config),c.authenticateUser(r,{newPasswordRequired:function(e,t){return n.cognitoCallback("User needs to set password.",null)},onSuccess:function(e){return o.onLoginSuccess(n,e)},onFailure:function(e){return o.onLoginError(n,e)},mfaRequired:function(e,t){n.handleMFAStep(e,t,function(e){c.sendMFACode(e,{onSuccess:function(e){return o.onLoginSuccess(n,e)},onFailure:function(e){return o.onLoginError(n,e)}})})}})},e.prototype.forgotPassword=function(e,t){var n={Username:e,Pool:this.cognitoUtil.getUserPool()};new a.b(n).forgotPassword({onSuccess:function(){},onFailure:function(e){t.cognitoCallback(e.message,null)},inputVerificationCode:function(){t.cognitoCallback(null,null)}})},e.prototype.confirmNewPassword=function(e,t,n,o){var i={Username:e,Pool:this.cognitoUtil.getUserPool()};new a.b(i).confirmPassword(t,n,{onSuccess:function(){o.cognitoCallback(null,null)},onFailure:function(e){o.cognitoCallback(e.message,null)}})},e.prototype.logout=function(){console.log("UserLoginService: Logging out"),this.ddb.writeLogEntry("logout"),this.cognitoUtil.getCurrentUser().signOut()},e.prototype.isAuthenticated=function(e){if(null==e)throw"UserLoginService: Callback in isAuthenticated() cannot be null";var t=this.cognitoUtil.getCurrentUser();null!=t?t.getSession(function(t,n){t?(console.log("UserLoginService: Couldn't get the session: "+t,t.stack),e.isLoggedIn(t,!1)):(console.log("UserLoginService: Session is "+n.isValid()),e.isLoggedIn(t,n.isValid()))}):(console.log("UserLoginService: can't retrieve the current user"),e.isLoggedIn("Can't retrieve the CurrentUser",!1))},e=v([Object(i.A)(),y("design:paramtypes",[m,c])],e)}(),R=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},P=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(){function e(e,t,n){this.awsUtil=e,this.userService=t,this.cognito=n,console.log("AppComponent: constructor")}return e.prototype.ngOnInit=function(){console.log("AppComponent: Checking if the user is already authenticated"),this.userService.isAuthenticated(this)},e.prototype.isLoggedIn=function(e,t){console.log("AppComponent: the user is authenticated: "+t);var n=this;this.cognito.getIdToken({callback:function(){},callbackWithParam:function(e){console.log("AppComponent: calling initAwsService in callback"),n.awsUtil.initAwsService(null,t,e)}})},e=R([Object(i.n)({selector:"app-root",template:n("Sxvq")}),P("design:paramtypes",[g,w,c])],e)}(),k=n("RyBE"),O=n("0nO6"),_=n("TMwh"),S=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},U=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},j=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}},I=function(){function e(e){this.cognitoUtil=e}return e.prototype.register=function(e,t){console.log("UserRegistrationService: user is "+e);var n=[],o={Name:"email",Value:e.email},i={Name:"nickname",Value:e.name};n.push(new a.c(o)),n.push(new a.c(i)),n.push(new a.c({Name:"phone_number",Value:e.phone_number})),this.cognitoUtil.getUserPool().signUp(e.email,e.password,n,null,function(e,n){e?t.cognitoCallback(e.message,null):(console.log("UserRegistrationService: registered user is "+n),t.cognitoCallback(null,n))})},e.prototype.confirmRegistration=function(e,t,n){var o={Username:e,Pool:this.cognitoUtil.getUserPool()};new a.b(o).confirmRegistration(t,!0,function(e,t){e?n.cognitoCallback(e.message,null):n.cognitoCallback(null,t)})},e.prototype.resendCode=function(e,t){var n={Username:e,Pool:this.cognitoUtil.getUserPool()};new a.b(n).resendConfirmationCode(function(e,n){e?t.cognitoCallback(e.message,null):t.cognitoCallback(null,n)})},e.prototype.newPassword=function(e,t){console.log(e);var n={Username:e.username,Password:e.existingPassword},o=new a.a(n),i={Username:e.username,Pool:this.cognitoUtil.getUserPool()};console.log("UserLoginService: Params set...Authenticating the user");var r=new a.b(i);console.log("UserLoginService: config is "+s.config),r.authenticateUser(o,{newPasswordRequired:function(n,o){delete n.email_verified,r.completeNewPasswordChallenge(e.password,o,{onSuccess:function(e){t.cognitoCallback(null,n)},onFailure:function(e){t.cognitoCallback(e,null)}})},onSuccess:function(e){t.cognitoCallback(null,e)},onFailure:function(e){t.cognitoCallback(e,null)}})},e=S([Object(i.A)(),j(0,Object(i.z)(c)),U("design:paramtypes",[c])],e)}(),x=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},L=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},M=function(){function e(e){this.cognitoUtil=e}return e.prototype.getParameters=function(e){var t=this.cognitoUtil.getCurrentUser();null!=t?t.getSession(function(n,o){n?console.log("UserParametersService: Couldn't retrieve the user"):t.getUserAttributes(function(t,n){t?console.log("UserParametersService: in getParameters: "+t):e.callbackWithParam(n)})}):e.callbackWithParam(null)},e=x([Object(i.A)(),L("design:paramtypes",[c])],e)}(),D=n("UHIZ"),A=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},T=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(){function e(){}return e=A([Object(i.n)({selector:"awscognito-angular2-app",template:'<p>Hello and welcome!"</p>'})],e)}(),N=function(){function e(){console.log("HomeLandingComponent constructor")}return e=A([Object(i.n)({selector:"awscognito-angular2-app",template:n("VeaH")}),T("design:paramtypes",[])],e)}(),W=function(){function e(){console.log("HomeComponent constructor")}return e.prototype.ngOnInit=function(){},e=A([Object(i.n)({selector:"awscognito-angular2-app",template:n("2vi/")}),T("design:paramtypes",[])],e)}(),F=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},V=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},q=function(){function e(e,t){this.router=e,this.userService=t,this.userService.isAuthenticated(this),console.log("SecureHomeComponent: constructor")}return e.prototype.ngOnInit=function(){},e.prototype.isLoggedIn=function(e,t){t||this.router.navigate(["/home/login"])},e=F([Object(i.n)({selector:"awscognito-angular2-app",template:n("/ZX1")}),V("design:paramtypes",[D.b,w])],e)}(),B=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},J=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},H=function(){function e(e,t,n,o){this.router=e,this.userService=t,this.userParams=n,this.cognitoUtil=o,this.parameters=[],this.userService.isAuthenticated(this),console.log("In MyProfileComponent")}return e.prototype.isLoggedIn=function(e,t){t?this.userParams.getParameters(new G(this,this.cognitoUtil)):this.router.navigate(["/home/login"])},e=B([Object(i.n)({selector:"awscognito-angular2-app",template:n("iLi0")}),J("design:paramtypes",[D.b,w,M,c])],e)}(),Y=function(){return function(){}}(),G=function(){function e(e,t){this.me=e,this.cognitoUtil=t}return e.prototype.callback=function(){},e.prototype.callbackWithParam=function(e){for(var t=0;t<e.length;t++){var n=new Y;n.name=e[t].getName(),n.value=e[t].getValue(),this.me.parameters.push(n)}var o=new Y;o.name="cognito ID",o.value=this.cognitoUtil.getCognitoIdentity(),this.me.parameters.push(o)},e}(),Z=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},z=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},K=function(){return function(){}}(),Q=function(){function e(e,t,n){this.router=e,this.userService=t,this.cognitoUtil=n,this.stuff=new K,this.userService.isAuthenticated(this),console.log("in JwtComponent")}return e.prototype.isLoggedIn=function(e,t){t?(this.cognitoUtil.getAccessToken(new X(this)),this.cognitoUtil.getIdToken(new $(this))):this.router.navigate(["/home/login"])},e=Z([Object(i.n)({selector:"awscognito-angular2-app",template:n("Ng2n")}),z("design:paramtypes",[D.b,w,c])],e)}(),X=function(){function e(e){this.jwt=e}return e.prototype.callback=function(){},e.prototype.callbackWithParam=function(e){this.jwt.stuff.accessToken=e},e}(),$=function(){function e(e){this.jwt=e}return e.prototype.callback=function(){},e.prototype.callbackWithParam=function(e){this.jwt.stuff.idToken=e},e}(),ee=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},te=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ne=(function(){}(),function(){function e(e,t,n){this.router=e,this.ddb=t,this.userService=n,this.logdata=[],this.userService.isAuthenticated(this),console.log("in UseractivityComponent")}return e.prototype.isLoggedIn=function(e,t){t?(console.log("scanning DDB"),this.ddb.getLogEntries(this.logdata)):this.router.navigate(["/home/login"])},e=ee([Object(i.n)({selector:"awscognito-angular2-app",template:n("0qZY")}),te("design:paramtypes",[D.b,m,w])],e)}()),oe=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ie=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},re=function(){function e(e,t,n){this.router=e,this.ddb=t,this.userService=n,this.mfaStep=!1,this.mfaData={destination:"",callback:null},console.log("LoginComponent constructor")}return e.prototype.ngOnInit=function(){this.errorMessage=null,console.log("Checking if the user is already authenticated. If so, then redirect to the secure site"),this.userService.isAuthenticated(this)},e.prototype.onLogin=function(){null!=this.email&&null!=this.password?(this.errorMessage=null,this.userService.authenticate(this.email,this.password,this)):this.errorMessage="All fields are required"},e.prototype.cognitoCallback=function(e,t){null!=e?(this.errorMessage=e,console.log("result: "+this.errorMessage),"User is not confirmed."===this.errorMessage?(console.log("redirecting"),this.router.navigate(["/home/confirmRegistration",this.email])):"User needs to set password."===this.errorMessage&&(console.log("redirecting to set new password"),this.router.navigate(["/home/newPassword"]))):(this.ddb.writeLogEntry("login"),this.router.navigate(["/securehome"]))},e.prototype.handleMFAStep=function(e,t,n){var o=this;this.mfaStep=!0,this.mfaData.destination=t.CODE_DELIVERY_DESTINATION,this.mfaData.callback=function(e){null!=e&&0!==e.length?(o.errorMessage=null,n(e)):o.errorMessage="Code is required"}},e.prototype.isLoggedIn=function(e,t){t&&this.router.navigate(["/securehome"])},e.prototype.cancelMFA=function(){return this.mfaStep=!1,!1},e=oe([Object(i.n)({selector:"awscognito-angular2-app",template:n("NV2D")}),ie("design:paramtypes",[D.b,m,w])],e)}(),ae=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},se=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},le=function(){return function(){}}(),ce=function(){function e(e,t){this.userRegistration=e,this.router=t,this.onInit()}return e.prototype.onInit=function(){this.registrationUser=new le,this.errorMessage=null},e.prototype.onRegister=function(){this.errorMessage=null,this.userRegistration.register(this.registrationUser,this)},e.prototype.cognitoCallback=function(e,t){null!=e?(this.errorMessage=e,console.log("result: "+this.errorMessage)):(console.log("redirecting"),this.router.navigate(["/home/confirmRegistration",t.user.username]))},e=ae([Object(i.n)({selector:"awscognito-angular2-app",template:n("32Dm")}),se("design:paramtypes",[I,D.b])],e)}(),ue=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},fe=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ge=function(){function e(e,t){this.router=e,this.userService=t,this.errorMessage=null}return e.prototype.onNext=function(){this.errorMessage=null,this.userService.forgotPassword(this.email,this)},e.prototype.cognitoCallback=function(e,t){null==e&&null==t?this.router.navigate(["/home/forgotPassword",this.email]):this.errorMessage=e},e=ue([Object(i.n)({selector:"awscognito-angular2-app",template:n("bGe8")}),fe("design:paramtypes",[D.b,w])],e)}(),de=function(){function e(e,t,n){this.router=e,this.route=t,this.userService=n,console.log("email from the url: "+this.email)}return e.prototype.ngOnInit=function(){var e=this;this.sub=this.route.params.subscribe(function(t){e.email=t.email}),this.errorMessage=null},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e.prototype.onNext=function(){this.errorMessage=null,this.userService.confirmNewPassword(this.email,this.verificationCode,this.password,this)},e.prototype.cognitoCallback=function(e){null!=e?(this.errorMessage=e,console.log("result: "+this.errorMessage)):this.router.navigate(["/home/login"])},e=ue([Object(i.n)({selector:"awscognito-angular2-app",template:n("a5uK")}),fe("design:paramtypes",[D.b,D.a,w])],e)}(),pe=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},he=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},me=function(){function e(e,t){this.router=e,this.userService=t,this.userService.isAuthenticated(this)}return e.prototype.isLoggedIn=function(e,t){t&&(this.userService.logout(),this.router.navigate(["/home"])),this.router.navigate(["/home"])},e=pe([Object(i.n)({selector:"awscognito-angular2-app",template:""}),he("design:paramtypes",[D.b,w])],e)}(),be=function(){function e(e,t,n){this.regService=e,this.router=t,this.route=n}return e.prototype.ngOnInit=function(){var e=this;this.sub=this.route.params.subscribe(function(t){e.email=t.username}),this.errorMessage=null},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e.prototype.onConfirmRegistration=function(){this.errorMessage=null,this.regService.confirmRegistration(this.email,this.confirmationCode,this)},e.prototype.cognitoCallback=function(e,t){null!=e?(this.errorMessage=e,console.log("message: "+this.errorMessage)):(console.log("Moving to securehome"),this.router.navigate(["/securehome"]))},e=pe([Object(i.n)({selector:"awscognito-angular2-app",template:n("FDm5")}),he("design:paramtypes",[I,D.b,D.a])],e)}(),ve=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},ye=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},we=function(){function e(e,t){this.registrationService=e,this.router=t}return e.prototype.resendCode=function(){this.registrationService.resendCode(this.email,this)},e.prototype.cognitoCallback=function(e,t){null!=e?this.errorMessage="Something went wrong...please try again":this.router.navigate(["/home/confirmRegistration",this.email])},e=ve([Object(i.n)({selector:"awscognito-angular2-app",template:n("Mzqj")}),ye("design:paramtypes",[I,D.b])],e)}(),Re=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Pe=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ce=function(){return function(){}}(),ke=function(){function e(e,t,n){this.userRegistration=e,this.userService=t,this.router=n,this.onInit()}return e.prototype.onInit=function(){this.registrationUser=new Ce,this.errorMessage=null},e.prototype.ngOnInit=function(){this.errorMessage=null,console.log("Checking if the user is already authenticated. If so, then redirect to the secure site"),this.userService.isAuthenticated(this)},e.prototype.onRegister=function(){console.log(this.registrationUser),this.errorMessage=null,this.userRegistration.newPassword(this.registrationUser,this)},e.prototype.cognitoCallback=function(e,t){null!=e?(this.errorMessage=e,console.log("result: "+this.errorMessage)):(console.log("redirecting"),this.router.navigate(["/securehome"]))},e.prototype.isLoggedIn=function(e,t){t&&this.router.navigate(["/securehome"])},e=Re([Object(i.n)({selector:"awscognito-angular2-app",template:n("jkUk")}),Pe("design:paramtypes",[I,w,D.b])],e)}(),Oe=[{path:"",children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:W,children:[{path:"about",component:E},{path:"login",component:re},{path:"register",component:ce},{path:"confirmRegistration/:username",component:be},{path:"resendCode",component:we},{path:"forgotPassword/:email",component:de},{path:"forgotPassword",component:ge},{path:"newPassword",component:ke},{path:"",component:N}]}].concat([{path:"",redirectTo:"/securehome",pathMatch:"full"},{path:"securehome",component:q,children:[{path:"logout",component:me},{path:"jwttokens",component:Q},{path:"myprofile",component:H},{path:"useractivity",component:ne},{path:"",component:H}]}],[{path:"",component:W}])}],_e=D.c.forRoot(Oe),Se=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},Ue=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},je=function(){function e(){console.log("MFAComponent constructor")}return Se([Object(i.D)(),Ue("design:type",String)],e.prototype,"destination",void 0),Se([Object(i.D)(),Ue("design:type",Function)],e.prototype,"onSubmit",void 0),e=Se([Object(i.n)({selector:"awscognito-mfa",template:n("+Evg")}),Ue("design:paramtypes",[])],e)}(),Ie=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},xe=function(){function e(){}return e=Ie([Object(i.I)({declarations:[ke,re,me,be,we,ge,de,ce,je,E,N,W,ne,H,q,Q,C],imports:[k.a,O.a,_.a,_e],providers:[c,g,m,I,w,M],bootstrap:[C]})],e)}();r.production&&Object(i._13)(),Object(o.a)().bootstrapModule(xe)},iLi0:function(e,t){e.exports='<h1 class="page-header">My Profile Parameters</h1>\n\n<div class="table-responsive">\n    <table class="table table-hover table-striped">\n        <tr>\n            <th>Name</th>\n            <th>Value</th>\n        </tr>\n        <tr *ngFor="let parameter of parameters" class="active">\n            <td>{{ parameter.name }}</td>\n            <td>{{ parameter.value }}</td>\n        </tr>\n\n    </table>\n</div>\n'},jkUk:function(e,t){e.exports='<form class="form-signin" method="POST" action="#" role="form">\n    <div class="form-group">\n        <h2>Set new password</h2>\n    </div>\n    <div *ngIf="errorMessage!=null" class="alert alert-danger">\n        {{ errorMessage }}\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="signupEmail">Username / Email</label>\n        <input id="signupEmail" type="email" maxlength="50" class="form-control"\n               [(ngModel)]="registrationUser.username" [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="existingPassword">Temporary Password</label>\n        <input id="existingPassword" type="password" maxlength="25" class="form-control"\n               placeholder="at least 8 characters" length="40" [(ngModel)]="registrationUser.existingPassword"\n               [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <label class="control-label" for="signupPassword">New Password</label>\n        <input id="signupPassword" type="password" maxlength="25" class="form-control"\n               placeholder="at least 8 characters" length="40" [(ngModel)]="registrationUser.password"\n               [ngModelOptions]="{standalone: true}">\n    </div>\n    <div class="form-group">\n        <button (click)="onRegister()" id="signupSubmit" type="submit" class="btn btn-info btn-block">\n            Set your password\n        </button>\n    </div>\n    <hr>\n    <p>Already have an account? <a [routerLink]="[\'/home/login\']"> <i class="fa fa-fw fa-lock"></i>Login</a></p>\n</form>\n'}},[1]);